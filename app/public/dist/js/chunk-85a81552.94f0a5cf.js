(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85a81552"],{"057f":function(e,t,r){var n=r("fc6a"),a=r("241c").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return a(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?c(e):a(n(e))}},2797:function(e,t,r){"use strict";var n=r("61c6"),a=r.n(n);a.a},2909:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e){if(Array.isArray(e))return n(e)}r.d(t,"a",(function(){return s}));r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r("fb6a"),r("b0c0"),r("25f0");function i(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return a(e)||o(e)||i(e)||c()}},"3ca3":function(e,t,r){"use strict";var n=r("6547").charAt,a=r("69f3"),o=r("7dd0"),i="String Iterator",c=a.set,s=a.getterFor(i);o(String,"String",(function(e){c(this,{type:i,string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,a=t.index;return a>=r.length?{value:void 0,done:!0}:(e=n(r,a),t.index+=e.length,{value:e,done:!1})}))},"4df4":function(e,t,r){"use strict";var n=r("0366"),a=r("7b0b"),o=r("9bdd"),i=r("e95a"),c=r("50c4"),s=r("8418"),u=r("35a1");e.exports=function(e){var t,r,f,d,l,p,g=a(e),m="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,v=void 0!==b,y=u(g),w=0;if(v&&(b=n(b,h>2?arguments[2]:void 0,2)),void 0==y||m==Array&&i(y))for(t=c(g.length),r=new m(t);t>w;w++)p=v?b(g[w],w):g[w],s(r,w,p);else for(d=y.call(g),l=d.next,r=new m;!(f=l.call(d)).done;w++)p=v?o(d,b,[f.value,w],!0):f.value,s(r,w,p);return r.length=w,r}},"61c6":function(e,t,r){},"746f":function(e,t,r){var n=r("428f"),a=r("5135"),o=r("e5383"),i=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});a(t,e)||i(t,e,{value:o.f(e)})}},"885a":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user"},[r("a-modal",{attrs:{title:"添加账户",visible:e.addBtn.visible,"confirm-loading":e.addBtn.confirmLoading,cancelText:e.addBtn.cancel,okText:e.addBtn.ok,centered:""},on:{ok:e.handleSubmit,cancel:e.toggleModal}},[r("a-form",{attrs:{form:e.form,"label-col":{span:6},"wrapper-col":{span:12}}},[r("a-form-item",{attrs:{label:"用户名",hasFeedback:"",help:"用户名格式错误,最少长度11位"}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{trigger:"blur",validateTrigger:"blur",rules:[{required:!0,len:11,whitespace:!0}]}],expression:"[\n            'username',\n            {\n              trigger: 'blur',\n              validateTrigger: 'blur',\n              rules: [\n                {\n                  required: true,\n                  len: 11,\n                  whitespace: true\n                }\n              ]\n            }\n          ]"}],attrs:{name:"username",placeholder:"请输入用户名",size:"large"}},[r("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",{attrs:{hasFeedback:"",label:"密码",help:"密码不能为空或少于6位"}},[r("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{trigger:"blur",validateTrigger:"blur",rules:[{required:!0,whitespace:!0,min:6}]}],expression:"[\n            'password',\n            {\n              trigger: 'blur',\n              validateTrigger: 'blur',\n              rules: [\n                {\n                  required: true,\n                  whitespace: true,\n                  min: 6\n                }\n              ]\n            }\n          ]"}],attrs:{name:"password",placeholder:"请输入密码",size:"large"}},[r("a-icon",{attrs:{slot:"prefix",type:"credit-card"},slot:"prefix"})],1)],1)],1)],1),r("a-button",{staticClass:"editable-add-btn",attrs:{type:"primary",icon:"user-add"},on:{click:e.handleAdd}},[e._v(" 添加 ")]),r("a-table",{attrs:{bordered:"","data-source":e.dataSource,columns:e.columns,loading:e.loading},scopedSlots:e._u([{key:"operation",fn:function(t,n){return[r("a-row",[r("a-col",{attrs:{span:12}},[e.dataSource.length?r("a-popconfirm",{attrs:{title:"确认要删除吗?",okText:"确认",cancelText:"取消"},on:{confirm:function(){return e.onDelete(n.key)}}},[r("a-icon",{staticStyle:{color:"red"},attrs:{slot:"icon",type:"question-circle-o"},slot:"icon"}),r("a-button",{attrs:{type:"danger",icon:"delete"}},[e._v("删除")])],1):e._e()],1),r("a-col",{attrs:{span:8,offset:2}},[e.dataSource.length?r("a-popconfirm",{attrs:{title:"确认要刷新吗?",okText:"确认",cancelText:"取消"},on:{confirm:function(){return e.onRefresh(n.key)}}},[r("a-button",{attrs:{type:"primary",icon:"sync"}},[e._v("刷新")])],1):e._e()],1)],1)]}}])})],1)},a=[],o=(r("99af"),r("4de4"),r("7db0"),r("d81d"),r("b0c0"),r("d3b7"),r("25f0"),r("3ca3"),r("ddb0"),r("2909")),i=(r("96cf"),r("1da1")),c=r("ae16"),s={mixins:[c["b"],c["a"]],created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:case"end":return t.stop()}}),t)})))()},activated:function(){this.$emit("ChangeBreadcrumb",this.routers)},data:function(){return{routers:[{path:"/user",breadcrumbName:"账号"}],loading:!1,username:"",password:"",formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),addBtn:{visible:!1,confirmLoading:!1,ok:"确定",cancel:"取消"},dataSource:[],count:2,columns:[{title:"用户名",dataIndex:"username",width:"116px"},{title:"总空间",dataIndex:"total"},{title:"已使用空间",dataIndex:"useSize"},{title:"cookie有效性",dataIndex:"cookie"},{title:"添加时间",dataIndex:"addTime"},{width:"229px",title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}]}},computed:{},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,fetch("".concat(e.$config.server,"/users"),{headers:{Authorization:JSON.parse(localStorage.getItem("access"))}});case 4:return t.next=6,t.sent.json();case 6:if(r=t.sent,"TokenExpiredError"!==r.name){t.next=9;break}throw new Error("认证已过期,请重新认证");case 9:t.next=16;break;case 11:return t.prev=11,t.t0=t["catch"](1),e.loading=!1,e.$message.error({content:t.t0.toString(),duration:5}),t.abrupt("return",e.$router.push("auth"));case 16:return t.next=18,Promise.all(r.map(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.$config.server,"/files/").concat(r.uid),{headers:{Authorization:JSON.parse(localStorage.getItem("access"))}});case 2:return t.next=4,t.sent.json();case 4:return n=t.sent,t.abrupt("return",{key:r.id,username:r.uid,cookie:500===n.code?n.msg:"有效",total:e.formatFileSize(r.total),useSize:e.formatFileSize(r.size),addTime:r.add_time,pass:r.pass});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 18:e.dataSource=t.sent,e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[1,11]])})))()},handleSubmit:function(){var e=this;this.addBtn.confirmLoading=!0,this.form.validateFields({first:!0},function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=2;break}return t.abrupt("return",e.addBtn.confirmLoading=!1);case 2:return e.username=n.username,e.password=n.password,t.next=6,e.loadingState({key:"addUser",loadingMessage:"添加中...",fn:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(e.$config.server,"/login"),{body:JSON.stringify({username:e.username,password:e.password}),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("access"))},method:"POST"});case 2:return t.next=4,t.sent.json();case 4:return r=t.sent,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}(),success:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:e.toggleModal();case 3:case"end":return t.stop()}}),t)})));function r(){return t.apply(this,arguments)}return r}(),error:function(){e.toggleModal()},duration:1});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())},toggleModal:function(){this.addBtn.visible=!this.addBtn.visible,this.addBtn.confirmLoading=!1,this.username="",this.password=""},onDelete:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=Object(o["a"])(t.dataSource),a=n.filter((function(t){return t.key===e}))[0].key,r.next=4,t.loadingState({success:function(){t.dataSource=n.filter((function(t){return t.key!==e}))},loadingMessage:"删除中...",key:"delete",fn:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$config.server,"/userDelete/").concat(a),{headers:{Authorization:JSON.parse(localStorage.getItem("access"))}});case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}()});case 4:case"end":return r.stop()}}),r)})))()},onRefresh:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.dataSource.find((function(t){return t.key===e})),r.next=3,t.loadingState({key:"refresh",loadingMessage:"刷新中...",fn:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.$config.server,"/login?sercret=1"),{body:JSON.stringify({username:n["username"],password:n["pass"]}),credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:JSON.parse(localStorage.getItem("access"))},method:"POST"});case 2:return e.next=4,e.sent.json();case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),success:function(){n.cookie="有效"},error:function(){},duration:1});case 3:case"end":return r.stop()}}),r)})))()},handleAdd:function(){this.addBtn.visible=!0}}},u=s,f=(r("2797"),r("2877")),d=Object(f["a"])(u,n,a,!1,null,"4fafd578",null);t["default"]=d.exports},"99af":function(e,t,r){"use strict";var n=r("23e7"),a=r("d039"),o=r("e8b5"),i=r("861d"),c=r("7b0b"),s=r("50c4"),u=r("8418"),f=r("65f0"),d=r("1dde"),l=r("b622"),p=r("2d00"),g=l("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",b=p>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),v=d("concat"),y=function(e){if(!i(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},w=!b||!v;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,r,n,a,o,i=c(this),d=f(i,0),l=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?i:arguments[t],y(o)){if(a=s(o.length),l+a>m)throw TypeError(h);for(r=0;r<a;r++,l++)r in o&&u(d,l,o[r])}else{if(l>=m)throw TypeError(h);u(d,l++,o)}return d.length=l,d}})},a4d3:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),o=r("d066"),i=r("c430"),c=r("83ab"),s=r("4930"),u=r("fdbf"),f=r("d039"),d=r("5135"),l=r("e8b5"),p=r("861d"),g=r("825a"),m=r("7b0b"),h=r("fc6a"),b=r("c04e"),v=r("5c6c"),y=r("7c73"),w=r("df75"),S=r("241c"),x=r("057f"),k=r("7418"),O=r("06cf"),j=r("9bf2"),R=r("d1e7"),T=r("9112"),A=r("6eeb"),I=r("5692"),N=r("f772"),z=r("d012"),$=r("90e3"),B=r("b622"),P=r("e5383"),E=r("746f"),J=r("d44e"),F=r("69f3"),M=r("b727").forEach,_=N("hidden"),C="Symbol",L="prototype",q=B("toPrimitive"),U=F.set,D=F.getterFor(C),Q=Object[L],W=a.Symbol,G=o("JSON","stringify"),H=O.f,K=j.f,V=x.f,X=R.f,Y=I("symbols"),Z=I("op-symbols"),ee=I("string-to-symbol-registry"),te=I("symbol-to-string-registry"),re=I("wks"),ne=a.QObject,ae=!ne||!ne[L]||!ne[L].findChild,oe=c&&f((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=H(Q,t);n&&delete Q[t],K(e,t,r),n&&e!==Q&&K(Q,t,n)}:K,ie=function(e,t){var r=Y[e]=y(W[L]);return U(r,{type:C,tag:e,description:t}),c||(r.description=t),r},ce=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},se=function(e,t,r){e===Q&&se(Z,t,r),g(e);var n=b(t,!0);return g(r),d(Y,n)?(r.enumerable?(d(e,_)&&e[_][n]&&(e[_][n]=!1),r=y(r,{enumerable:v(0,!1)})):(d(e,_)||K(e,_,v(1,{})),e[_][n]=!0),oe(e,n,r)):K(e,n,r)},ue=function(e,t){g(e);var r=h(t),n=w(r).concat(ge(r));return M(n,(function(t){c&&!de.call(r,t)||se(e,t,r[t])})),e},fe=function(e,t){return void 0===t?y(e):ue(y(e),t)},de=function(e){var t=b(e,!0),r=X.call(this,t);return!(this===Q&&d(Y,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(Y,t)||d(this,_)&&this[_][t])||r)},le=function(e,t){var r=h(e),n=b(t,!0);if(r!==Q||!d(Y,n)||d(Z,n)){var a=H(r,n);return!a||!d(Y,n)||d(r,_)&&r[_][n]||(a.enumerable=!0),a}},pe=function(e){var t=V(h(e)),r=[];return M(t,(function(e){d(Y,e)||d(z,e)||r.push(e)})),r},ge=function(e){var t=e===Q,r=V(t?Z:h(e)),n=[];return M(r,(function(e){!d(Y,e)||t&&!d(Q,e)||n.push(Y[e])})),n};if(s||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),r=function(e){this===Q&&r.call(Z,e),d(this,_)&&d(this[_],t)&&(this[_][t]=!1),oe(this,t,v(1,e))};return c&&ae&&oe(Q,t,{configurable:!0,set:r}),ie(t,e)},A(W[L],"toString",(function(){return D(this).tag})),A(W,"withoutSetter",(function(e){return ie($(e),e)})),R.f=de,j.f=se,O.f=le,S.f=x.f=pe,k.f=ge,P.f=function(e){return ie(B(e),e)},c&&(K(W[L],"description",{configurable:!0,get:function(){return D(this).description}}),i||A(Q,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),M(w(re),(function(e){E(e)})),n({target:C,stat:!0,forced:!s},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=W(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ae=!0},useSimple:function(){ae=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!c},{create:fe,defineProperty:se,defineProperties:ue,getOwnPropertyDescriptor:le}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:ge}),n({target:"Object",stat:!0,forced:f((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(m(e))}}),G){var me=!s||f((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}));n({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,r){var n,a=[e],o=1;while(arguments.length>o)a.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!ce(e))return l(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ce(t))return t}),a[1]=t,G.apply(null,a)}})}W[L][q]||T(W[L],q,W[L].valueOf),J(W,C),z[_]=!0},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),o=r("1c7e"),i=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:i},{from:a})},b0c0:function(e,t,r){var n=r("83ab"),a=r("9bf2").f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(e){return""}}})},d28b:function(e,t,r){var n=r("746f");n("iterator")},ddb0:function(e,t,r){var n=r("da84"),a=r("fdbc"),o=r("e260"),i=r("9112"),c=r("b622"),s=c("iterator"),u=c("toStringTag"),f=o.values;for(var d in a){var l=n[d],p=l&&l.prototype;if(p){if(p[s]!==f)try{i(p,s,f)}catch(m){p[s]=f}if(p[u]||i(p,u,d),a[d])for(var g in o)if(p[g]!==o[g])try{i(p,g,o[g])}catch(m){p[g]=o[g]}}}},e01a:function(e,t,r){"use strict";var n=r("23e7"),a=r("83ab"),o=r("da84"),i=r("5135"),c=r("861d"),s=r("9bf2").f,u=r("e893"),f=o.Symbol;if(a&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var d={},l=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof l?new f(e):void 0===e?f():f(e);return""===e&&(d[t]=!0),t};u(l,f);var p=l.prototype=f.prototype;p.constructor=l;var g=p.toString,m="Symbol(test)"==String(f("test")),h=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=g.call(e);if(i(d,e))return"";var r=m?t.slice(7,-1):t.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:l})}},e5383:function(e,t,r){var n=r("b622");t.f=n}}]);
//# sourceMappingURL=chunk-85a81552.94f0a5cf.js.map