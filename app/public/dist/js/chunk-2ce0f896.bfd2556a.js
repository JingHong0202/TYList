(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ce0f896"],{"3f29":function(e,t,n){},"65ac":function(e,t,n){"use strict";var a=n("3f29"),c=n.n(a);c.a},d7bb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth"},[n("a-card",{staticStyle:{width:"500px","border-radius":"10px",padding:"20px",background:"rgba(255,255,255,.7)"}},[n("a-input-password",{attrs:{placeholder:"请输入令牌"},model:{value:e.accessToken,callback:function(t){e.accessToken=t},expression:"accessToken"}},[n("a-icon",{attrs:{slot:"addonBefore",type:"user"},slot:"addonBefore"})],1),n("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",block:"",loading:e.loading},on:{click:e.submit}},[e._v(" 认证 ")])],1)],1)},c=[],r=(n("d3b7"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),o=n("ae16"),s={mixins:[o["a"]],data:function(){return{accessToken:"",loading:!1}},methods:{submit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,fetch("".concat(e.$config.server,"/auth"),{method:"POST",credentials:"include",body:JSON.stringify({secret:e.accessToken}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t.next=5,t.sent.json();case 5:if(n=t.sent,n&&500!==n.code){t.next=9;break}return e.loading=!1,t.abrupt("return",e.$message.error({content:n.msg||"未知错误"}));case 9:localStorage.setItem("access",JSON.stringify(n.access)),e.$message.success({content:"认证成功",duration:1}).then((function(){var t=e.formatCookie("route");e.$router.replace(t||"/"),window.location.reload(),e.loading=!1}));case 11:case"end":return t.stop()}}),t)})))()}}},i=s,u=(n("65ac"),n("2877")),d=Object(u["a"])(i,a,c,!1,null,"398ba9ea",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2ce0f896.bfd2556a.js.map