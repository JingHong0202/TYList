(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24d54b36"],{9999:function(e,t,n){},d7bb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"auth"},[n("a-card",{staticStyle:{width:"500px","border-radius":"10px",padding:"20px",background:"rgba(255,255,255,.7)"}},[n("a-input-password",{attrs:{placeholder:"请输入令牌"},model:{value:e.accessToken,callback:function(t){e.accessToken=t},expression:"accessToken"}},[n("a-icon",{attrs:{slot:"addonBefore",type:"user"},slot:"addonBefore"})],1),n("a-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",block:"",loading:e.loading},on:{click:e.submit}},[e._v(" 认证 ")])],1)],1)},r=[],c=(n("d3b7"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),s=n("ae16"),o={mixins:[s["a"]],data:function(){return{accessToken:"",loading:!1}},methods:{submit:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.accessToken){t.next=2;break}return t.abrupt("return",e.$message.error({content:"不能为空！"}));case 2:return e.loading=!0,t.next=5,fetch("".concat(e.$config.server,"/auth"),{method:"POST",credentials:"include",body:JSON.stringify({secret:e.accessToken}),headers:{Accept:"application/json","Content-Type":"application/json"}});case 5:return t.next=7,t.sent.json();case 7:if(n=t.sent,n&&500!==n.code){t.next=11;break}return e.loading=!1,t.abrupt("return",e.$message.error({content:n.msg||"未知错误"}));case 11:localStorage.setItem("access",JSON.stringify(n.access)),e.$message.success({content:"认证成功",duration:1}).then((function(){var t=e.formatCookie("route");e.$router.replace(t||"/"),window.location.reload(),e.loading=!1}));case 13:case"end":return t.stop()}}),t)})))()}}},i=o,u=(n("d85a"),n("2877")),d=Object(u["a"])(i,a,r,!1,null,"0d46b8c6",null);t["default"]=d.exports},d85a:function(e,t,n){"use strict";var a=n("9999"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-24d54b36.7e297ce9.js.map